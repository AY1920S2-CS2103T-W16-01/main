@startuml
!include style.puml

box AutoComplete LOGIC_COLOR_T1
participant ":CommandBox" as CommandBox LOGIC_COLOR
participant ":MainWindow" as MainWindow LOGIC_COLOR
participant ":CommandCompletor" as CommandCompletor LOGIC_COLOR
end box

box AutoComplete UI_COLOR_T1
participant ":ResultDisplay" as ResultDisplay UI_COLOR
participant ":CommandTextField" as CommandTextField UI_COLOR
end box

[-> CommandBox : "delete -10 10 5"
activate CommandBox

CommandBox -> MainWindow : suggestCommand("delete -10 10 5")
activate MainWindow

MainWindow -> CommandCompletor: suggestCommand("delete -10 10 5")
activate CommandCompletor

CommandCompletor --> MainWindow: CompletorResult
deactivate CommandCompletor

opt CompletorDeletionException
    MainWindow -> ResultDisplay: setWarning()
    activate ResultDisplay
    ResultDisplay -> MainWindow
    deactivate ResultDisplay
    MainWindow -[hidden]->ResultDisplay
end

alt Completion success case
    CommandBox -> CommandTextField: setSuccess()
    activate CommandTextField
    CommandTextField -> CommandBox
    deactivate CommandTextField
    CommandBox -[hidden]->CommandBox
else Completion error case
    CommandBox -> CommandTextField: setSuccess()
    activate CommandTextField
    CommandTextField -> CommandBox
    deactivate CommandTextField
    CommandBox -[hidden]->CommandBox
end

[<--CommandBox
deactivate CommandBox
@enduml
